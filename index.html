<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‡Œæ³°æ•™è‚²æ•™å­¦èµ„æºåº“</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background: #f4f7f9; margin: 0; padding: 0; color: #333; -webkit-user-select: none; user-select: none; }
        
        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .sticky-header { position: sticky; top: 0; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.05); padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; }
        .site-title { font-size: 1.2rem; font-weight: bold; color: #333; margin: 0; }
        .search-box { padding: 8px 15px; border: 1px solid #ddd; border-radius: 20px; outline: none; font-size: 14px; width: 200px; transition: all 0.3s; }
        .search-box:focus { border-color: #007aff; width: 300px; }

        /* æ¿å—æ ‡é¢˜é£æ ¼ */
        .project-section { max-width: 1400px; margin: 40px auto 10px; padding: 0 20px; display: flex; align-items: center; }
        .project-title { font-size: 1.6rem; font-weight: 800; color: #2c3e50; margin-right: 15px; }
        .project-badge { background: #007aff; color: #fff; font-size: 0.8rem; padding: 3px 8px; border-radius: 4px; font-weight: normal; }
        .project-line { flex-grow: 1; height: 1px; background: #e0e0e0; margin-left: 15px; }

        /* èµ„æºç½‘æ ¼å¸ƒå±€ */
        .resource-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; padding: 10px 20px 40px; max-width: 1400px; margin: 0 auto; }
        
        /* å¡ç‰‡æ ·å¼ */
        .card { background: #fff; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.04); transition: transform 0.2s; border: 1px solid #f0f0f0; }
        .card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        
        /* åª’ä½“å®¹å™¨ */
        .media-wrapper { width: 100%; aspect-ratio: 16/9; background: #f8f9fa; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        
        /* å®‰å…¨é®ç½©å±‚ (æ ¸å¿ƒé˜²ç›—) */
        .security-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; background: rgba(0,0,0,0); }
        .video-mask { height: 85%; } /* è§†é¢‘åªé®ä¸Šé¢ï¼Œç•™å‡ºæ§åˆ¶æ¡ */

        /* å„ç±»åª’ä½“æ ·å¼ */
        video { width: 100%; height: 100%; object-fit: contain; background: #000; display: block; }
        /* å›¾ç‰‡ç¦æ­¢é¼ æ ‡äº‹ä»¶å’Œæ‹–æ‹½ */
        .safe-img { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
        iframe.doc-viewer { width: 100%; height: 100%; border: none; }

        /* åº•éƒ¨ä¿¡æ¯æ  */
        .info { padding: 12px; border-top: 1px solid #eee; position: relative; z-index: 20; background: #fff; }
        .info h3 { margin: 0; font-size: 0.9rem; color: #444; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        /* æ–‡ä»¶ç±»å‹æ ‡ç­¾ */
        .file-tag { font-size: 0.75rem; padding: 2px 6px; border-radius: 4px; color: #fff; margin-right: 5px; vertical-align: middle; display: inline-block; }
    </style>
</head>
<body oncontextmenu="return false">

<div class="sticky-header">
    <h1 class="site-title">ğŸ« æ±½è½¦æ„é€ è¯¾ç¨‹èµ„æºåº“</h1>
    <input type="text" class="search-box" id="searchInput" placeholder="ğŸ” æœç´¢è§†é¢‘ã€è¯¾ä»¶æˆ–å›¾ç‰‡...">
</div>

<div id="contentArea"></div>

<script>
    // R2 æ ¹é“¾æ¥
    const r2Base = "https://pub-5c5bb9aa72d54e53abacca6b652c98e4.r2.dev/";
    
    // å¾®è½¯ Office åœ¨çº¿é¢„è§ˆå‰ç¼€
    const msViewer = "https://view.officeapps.live.com/op/embed.aspx?src=";

    // ==========================================
    // ã€æ ¸å¿ƒé…ç½®åŒºã€‘å·²ä¸ºæ‚¨æ·»åŠ äº†å›¾ç‰‡æ¿å—
    // ==========================================
    const projects = [
        {
            projectName: "ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•™å­¦è§†é¢‘", 
            folderName: "ã€Šæ±½è½¦æ„é€ ã€‹/è§†é¢‘",   
            items: [
        "01-æ±½è½¦åˆ†ç±»ä¸ç»“æ„è®¤çŸ¥.mp4", "02-æ±½è½¦è¯†åˆ«ä»£ç å’ŒæŠ€æœ¯å‚æ•°è®¤çŸ¥.mp4", "3.å‘åŠ¨æœºçš„æ€»ä½“ç»“æ„å’Œå·¥ä½œåŸç†è®¤çŸ¥.mp4",
        "4.æœºä½“ç»„åŠæ´»å¡è¿æ†ç»„è®¤çŸ¥.mp4", "5.æœºä½“ç»„ä¸æ´»å¡è¿æ†ç»„æ‹†å¸æ£€ä¿®.mp4", "6.æ›²è½´é£è½®ç»„è®¤çŸ¥.mp4",
        "7.æ›²è½´é£è½®ç»„æ‹†è£…æ£€ä¿®.mp4", "8.é…æ°”æœºæ„çš„ä¸»è¦éƒ¨ä»¶è®¤çŸ¥.mp4", "9.é…æ°”æœºæ„æ‹†è£…æ£€ä¿®.mp4",
        "10.ç‡ƒæ²¹ä¾›ç»™ç³»ç»Ÿè®¤çŸ¥.mp4", "11.ç‡ƒæ²¹ä¾›ç»™ç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4", "12.æ¶¦æ»‘ç³»ä¸»è¦éƒ¨ä»¶è®¤çŸ¥.mp4",
        "13.æ¶¦æ»‘ç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4", "14.å†·å´ç³»ç»Ÿä¸»è¦éƒ¨ä»¶è®¤çŸ¥.mp4", "15.å†·å´ç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4",
        "16.ç‚¹ç«ç³»çš„ä¸»è¦éƒ¨ä»¶è®¤çŸ¥.mp4", "17.ç‚¹ç«ç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4", "18.èµ·åŠ¨ç³»çš„ä¸»è¦éƒ¨ä»¶è®¤çŸ¥.mp4",
        "19.å¯åŠ¨ç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4", "20.ä¼ åŠ¨ç³»ç»ŸåŠå¸ƒç½®å½¢å¼è®¤çŸ¥.mp4", "21.ä¼ åŠ¨ç³»ç»ŸåŠ¨åŠ›ä¼ é€’è¿‡ç¨‹è®¤çŸ¥.mp4",
        "22.ç¦»åˆå™¨è®¤çŸ¥.mp4", "23.ç¦»åˆå™¨æ‹†è£…æ£€ä¿®.mp4", "24.ç¦»åˆå™¨å¸¸è§æ•…éšœåˆ†æä¸æ’é™¤.mp4",
        "25.å˜é€Ÿå™¨è®¤çŸ¥ä¸å˜æŒ¡è¿‡ç¨‹è®¤çŸ¥.mp4", "26.è¡¨é€Ÿå™¨æ²¹æ¶²æ’æ”¾ä¸åŠ æ³¨.mp4", "27.åˆ†è§£ä¸ç»„è£…è‡ªåŠ¨å˜é€Ÿå™¨.mp4",
        "28.ä¸‡å‘ä¼ åŠ¨è£…ç½®è®¤çŸ¥.mp4", "29.ä¸‡å‘ä¼ åŠ¨è£…ç½®æ‹†è£…æ£€ä¿®.mp4", "30.é©±åŠ¨æ¡¥è®¤çŸ¥.mp4",
        "31.è½¦æ¶è®¤çŸ¥.mp4", "32.è½¦è½®è½¦èƒè®¤çŸ¥.mp4", "33.è½¦è½®æ‹†è£…æ£€ä¿®.mp4", "34.æ‚¬æ¶ç³»ç»Ÿè®¤çŸ¥.mp4",
        "35.æ‚¬æ¶æ‹†è£…æ£€ä¿®.mp4", "36.è½¬å‘ä¸æ“çºµç³»ç»Ÿè®¤çŸ¥.mp4", "37.è½¬å‘æ“çºµç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4",
        "38.è½¬å‘å™¨è®¤çŸ¥.mp4", "39.è½¬å‘å™¨æ‹†è£…æ£€ä¿®.mp4", "40.æ¶²å‹åŠ©åŠ›è½¬å‘ä¼ åŠ¨ç³»ç»Ÿè®¤çŸ¥.mp4",
        "41.æ¶²å‹åŠ©åŠ›è½¬å‘ä¼ åŠ¨è£…ç½®æ‹†è£…æ£€ä¿®.mp4", "42.ç”µåŠ¨åŠ©åŠ›è½¬å‘ä¼ åŠ¨ç³»ç»Ÿè®¤çŸ¥.mp4", "43.ç”µåŠ¨åŠ©åŠ›è½¬å‘ä¼ åŠ¨è£…ç½®æ‹†è£…æ£€ä¿®.mp4",
        "44.åˆ¶åŠ¨å™¨è®¤çŸ¥.mp4", "45.ç›˜å¼åˆ¶åŠ¨å™¨æ‹†è£…æ£€ä¿®.mp4", "46-é¼“å¼åˆ¶åŠ¨å™¨æ‹†è£…æ£€ä¿®.mp4",
        "47.æ¶²å‹ã€æ°”å‹åˆ¶åŠ¨ä¼ åŠ¨è£…ç½®è®¤çŸ¥.mp4", "48.æ¶²å‹ã€æ°”å‹åˆ¶åŠ¨ä¼ åŠ¨è£…ç½®æ‹†è£…æ£€ä¿®.mp4", "49.ABSã€ASRåˆ¶åŠ¨æ§åˆ¶ç³»ç»Ÿè®¤çŸ¥.mp4",
        "50.ABSã€ASRåˆ¶åŠ¨æ§åˆ¶ç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4", "51.æ±½è½¦è½¦èº«ç»“æ„åŠé™„ä»¶è®¤çŸ¥.mp4", "52.æ±½è½¦è½¦èº«ç»“æ„åŠé™„ä»¶æ‹†è£….mp4",
        "53.æ±½è½¦ä»ªè¡¨è®¤çŸ¥.mp4", "54.æ±½è½¦ä»ªè¡¨æ‹†è£…æ£€ä¿®.mp4", "55.æ±½è½¦ç…§æ˜è£…ç½®è®¤çŸ¥.mp4",
        "56.æ±½è½¦ç…§æ˜è£…ç½®æ‹†è£…æ£€ä¿®.mp4", "57.æ±½è½¦ç”µåŠ¨è½¦çª—è®¤çŸ¥.mp4", "58.æ±½è½¦ç”µåŠ¨è½¦çª—æ‹†è£….mp4",
        "59.æ±½è½¦ç”µåŠ¨åº§æ¤…è®¤çŸ¥.mp4", "60.æ±½è½¦ç”µåŠ¨åº§æ¤…æ‹†è£….mp4", "61.æ±½è½¦ç”µåŠ¨è¾…åŠ©è£…ç½®è®¤çŸ¥.mp4",
        "62.æ±½è½¦ç”µåŠ¨è¾…åŠ©è£…ç½®æ‹†è£….mp4", "63.æ±½è½¦ç©ºè°ƒç³»ç»Ÿè®¤çŸ¥.mp4", "64.æ±½è½¦ç©ºè°ƒç³»ç»Ÿå¸¸è§æ•…éšœæ£€ä¿®.mp4",
        "65.æ–°èƒ½æºæ±½è½¦è®¤çŸ¥.mp4", "66.æ–°èƒ½æºæ±½è½¦åŠ¨åŠ›ç”µæ± ç³»ç»Ÿè®¤çŸ¥.mp4", "67.æ–°èƒ½æºæ±½è½¦é«˜å‹å®‰å…¨ç»´æŠ¤.mp4",
        "68.æ–°èƒ½æºæ±½è½¦åŠ¨åŠ›ç”µæ± ç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4", "69.æ–°èƒ½æºæ±½è½¦é©±åŠ¨ç”µæœºç³»ç»Ÿè®¤çŸ¥.mp4", "70.æ–°èƒ½æºæ±½è½¦é©±åŠ¨ç”µæœºç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4",
        "71.æ–°èƒ½æºæ±½è½¦é«˜å‹é…ç”µç³»ç»Ÿè®¤çŸ¥.mp4", "72.æ–°èƒ½æºæ±½è½¦é«˜å‹é…ç”µç³»ç»Ÿæ‹†è£…æ£€ä¿®.mp4"
            ]
        },
        {
            projectName: "ç¬¬äºŒéƒ¨åˆ†ï¼šæ€æ”¿è¯¾ä»¶ (PPT)", 
            folderName: "ã€Šæ±½è½¦æ„é€ ã€‹/PPT",
            items: [
                "æ€æ”¿01-å›½å®¶æƒ…æ€€.pptx",
                "æ€æ”¿02-å¤§å›½è‡ªä¿¡.pptx",
                "æ€æ”¿03-å·¥åŒ ç²¾ç¥.pptx",
                "æ€æ”¿04-åˆ›æ–°ç²¾ç¥.pptx",
                "æ€æ”¿05-ç§‘æŠ€ç²¾ç¥.pptx"
            ]
        },
        {
            // ã€æ–°å¢ã€‘ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•™å­¦å›¾ç‰‡
            projectName: "ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•™å­¦å›¾ç‰‡ç´ æ",
            folderName: "ã€Šæ±½è½¦æ„é€ ã€‹/å›¾ç‰‡", // å¯¹åº”æ‚¨æˆªå›¾é‡Œçš„è·¯å¾„
            items: [
                "1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg",
                "6.jpg", "7.jpg", "8.jpg", "9.jpg", "10.jpg"
            ]
        }
    ];

    const contentArea = document.getElementById('contentArea');
    const searchInput = document.getElementById('searchInput');

    // è¾…åŠ©å‡½æ•°ï¼šåˆ¤æ–­æ–‡ä»¶ç±»å‹
    function getFileType(filename) {
        const ext = filename.split('.').pop().toLowerCase();
        if (['mp4', 'mov', 'webm'].includes(ext)) return 'video';
        if (['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext)) return 'image';
        if (['ppt', 'pptx', 'doc', 'docx', 'xlsx'].includes(ext)) return 'office';
        if (['pdf'].includes(ext)) return 'pdf';
        return 'unknown';
    }

    // æ ¸å¿ƒæ¸²æŸ“å‡½æ•°
    function render(filter = '') {
        contentArea.innerHTML = '';
        
        projects.forEach(project => {
            const isTitleMatch = project.projectName.toLowerCase().includes(filter.toLowerCase());
            const filteredItems = project.items.filter(f => f.toLowerCase().includes(filter.toLowerCase()) || isTitleMatch);
            const itemsToShow = isTitleMatch ? project.items : filteredItems;

            if (itemsToShow.length > 0) {
                // 1. æ¸²æŸ“æ¿å—æ ‡é¢˜
                const section = document.createElement('div');
                section.className = 'project-section';
                section.innerHTML = `
                    <div class="project-title">${project.projectName}</div>
                    <span class="project-badge">${itemsToShow.length} ä¸ªèµ„æº</span>
                    <div class="project-line"></div>
                `;
                contentArea.appendChild(section);

                // 2. æ¸²æŸ“èµ„æºç½‘æ ¼
                const grid = document.createElement('div');
                grid.className = 'resource-grid';
                
                itemsToShow.forEach(filename => {
                    // å¤„ç†å¤šçº§è·¯å¾„å’Œä¸­æ–‡ç¼–ç 
                    const cleanFolder = project.folderName ? project.folderName.replace(/\/$/, '') : "";
                    const folderPart = cleanFolder ? (encodeURI(cleanFolder) + "/") : "";
                    const rawUrl = r2Base + folderPart + encodeURIComponent(filename);
                    
                    const type = getFileType(filename);
                    let contentHtml = '';
                    let tagHtml = '';

                    if (type === 'video') {
                        tagHtml = '<span class="file-tag" style="background:#007aff;">è§†é¢‘</span>';
                        contentHtml = `
                            <div class="media-wrapper" style="background:#000;">
                                <video controls controlsList="nodownload" playsinline preload="none" oncontextmenu="return false">
                                    <source src="${rawUrl}" type="video/mp4">
                                </video>
                                <div class="security-overlay video-mask"></div>
                            </div>`;
                    } 
                    else if (type === 'image') {
                        tagHtml = '<span class="file-tag" style="background:#4ecdc4;">å›¾ç‰‡</span>';
                        // å›¾ç‰‡ä¿æŠ¤ï¼šç¦æ­¢æ‹–æ‹½ + å…¨å±é€æ˜é®ç½©ç¦æ­¢å³é”®
                        contentHtml = `
                            <div class="media-wrapper">
                                <img src="${rawUrl}" class="safe-img" ondragstart="return false" alt="${filename}">
                                <div class="security-overlay"></div>
                            </div>`;
                    } 
                    else if (type === 'office') {
                        tagHtml = '<span class="file-tag" style="background:#ff6b6b;">PPT</span>';
                        // PPTåœ¨çº¿é¢„è§ˆ
                        contentHtml = `
                            <div class="media-wrapper">
                                <iframe class="doc-viewer" src="${msViewer + encodeURIComponent(rawUrl)}&wdAr=1.77"></iframe>
                            </div>`;
                    }
                    else if (type === 'pdf') {
                        tagHtml = '<span class="file-tag" style="background:#ff9f43;">PDF</span>';
                        contentHtml = `
                            <div class="media-wrapper">
                                <iframe class="doc-viewer" src="${rawUrl}#toolbar=0"></iframe>
                            </div>`;
                    }

                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        ${contentHtml}
                        <div class="info"><h3>${tagHtml}${filename}</h3></div>
                    `;
                    grid.appendChild(card);
                });
                
                contentArea.appendChild(grid);
            }
        });

        if (contentArea.innerHTML === '') {
            contentArea.innerHTML = '<div style="text-align:center;color:#999;margin-top:50px;">æœªæ‰¾åˆ°ç›¸å…³å†…å®¹</div>';
        }
    }

    searchInput.addEventListener('input', (e) => render(e.target.value));
    render();
</script>

</body>
</html>
